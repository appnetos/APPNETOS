/**
 * This file is a part of APPNET OS (Application Internet Operating System).
 * @link            http://www.appnetos.com
 * @mail            info@appnetos.com
 */
var appnetosClass=function(){this.debug=!1,this.ajaxId=null,this.baseUrl=null,this.url=null,this.onloadFunctions=[],this.addOnload=function(t){var e={fn:t,ar:Array.prototype.slice.call(arguments,1)};appnetos.onloadFunctions.push(e)},this.ajaxElement=function(t,e,o,a,n){void 0===n?n={}:"object"!=typeof n&&(n={dataObject:n}),n.ns=t,n.cl=e,n.fn=o,n.aid=appnetos.ajaxId;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&appnetos.debug){var t={data:n,result:this};console.log(t)}4==this.readyState&&200==this.status&&(document.getElementById(a).innerHTML=this.responseText)},s.open("POST",window.location.href),s.send(appnetos.objectToForm(n))},this.ajaxFunction=function(t,e,o,a,n){void 0===n?n={}:"object"!=typeof n&&(n={dataObject:n}),n.ns=t,n.cl=e,n.fn=o,n.aid=appnetos.ajaxId;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&appnetos.debug){var t={data:n,result:this};console.log(t)}4==this.readyState&&200==this.status&&appnetos.call(a,this.responseText)},s.open("POST",window.location.href),s.send(appnetos.objectToForm(n))},this.ajaxJson=function(t,e,o,a,n){void 0===n?n={}:"object"!=typeof n&&(n={dataObject:n}),n.ns=t,n.cl=e,n.fn=o,n.aid=appnetos.ajaxId;var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==this.readyState&&appnetos.debug){var t={data:n,result:this};console.log(t)}4==this.readyState&&200==this.status&&appnetos.call(a,JSON.parse(this.responseText))},s.open("POST",window.location.href),s.send(appnetos.objectToForm(n))},this.ajaxForm=function(e,o,a,n,s){var p=t(s,!0);if(!p&&appnetos.debug)return console.log("Error: Serialize form"),!1;dataObject={},dataObject.data=p,dataObject.ns=e,dataObject.cl=o,dataObject.fn=a,dataObject.aid=appnetos.ajaxId;var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&appnetos.debug){var t={data:dataObject,result:this};console.log(t)}4==this.readyState&&200==this.status&&appnetos.call(n,JSON.parse(this.responseText))},i.open("POST",window.location.href),i.send(appnetos.objectToForm(dataObject))};var t=function(t,e=!1){if("string"==typeof t&&(t=document.getElementById(t)),"object"!=typeof t||"FORM"!=t.nodeName)return!1;for(var o,a=[],n=[],s=t.elements.length,p=0;p<s;p++)if((o=t.elements[p]).name&&!o.disabled&&"button"!=o.type&&"file"!=o.type&&"reset"!=o.type&&"submit"!=o.type)if("select-multiple"==o.type){t.elements[p].options.length;for(var i=0;i<l;i++)o.options[i].selected&&(a[a.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.options[i].value),n.push({name:o.name,value:o.options[i].value}))}else("checkbox"!=o.type&&"radio"!=o.type||o.checked)&&(a[a.length]=encodeURIComponent(o.name)+"="+encodeURIComponent(o.value),n.push({name:o.name,value:o.value}));return e?n:a.join("&").replace(/%20/g,"+")};this.call=function(t){for(var e=window,o=Array.prototype.slice.call(arguments,1),a=t.split("."),n=a.pop(),s=0;s<a.length;s++)e=e[a[s]];return e[n].apply(e,o)},this.objectToForm=function(t){var e=new FormData;return appnetos.objectToFormBuild(e,t),e},this.objectToFormBuild=function(t,e,o){if(!e||"object"!=typeof e||e instanceof Date||e instanceof File){var a=null==e?"":e;t.append(o,a)}else Object.keys(e).forEach(a=>{appnetos.objectToFormBuild(t,e[a],o?`${o}[${a}]`:a)})},this.onloadEvent=function(t){var e=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){e&&e(),t()}},this.onload=function(){"undefined"!=typeof APPNETOS_DEBUG_AJAX&&!0===APPNETOS_DEBUG_AJAX&&(appnetos.debug=!0),appnetos.ajaxId=document.querySelector("[data-ajax-id]").getAttribute("data-ajax-id"),appnetos.baseUrl=document.querySelector("[data-application-url]").getAttribute("data-application-url"),appnetos.url=appnetos.base+"/"+window.location.href;for(var t=0;t<appnetos.onloadFunctions.length;t++)appnetos.call(appnetos.onloadFunctions[t].fn,appnetos.onloadFunctions[t].ar)}},appnetos=new appnetosClass;appnetos.onloadEvent(appnetos.onload);